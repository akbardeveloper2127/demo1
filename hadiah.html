<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hadiah Bonus</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* { box-sizing:border-box; margin:0; padding:0; }
body {
    font-family: Arial, sans-serif;
    background:#292d3c;
    color:#fff;
    min-height:100%;
    padding-bottom:80px;
}

/* HEADER */
.header {
    display:flex;
    justify-content:center;
    align-items:center;
    padding:12px 0;
    width:100%;
    background:#1e2230;
    position:relative;
    color:#c1f52b;
    font-weight:bold;
    font-size:17px;
    border-bottom:2px solid #1e2230;
}
.header .back-btn { 
    position:absolute; 
    left:15px; 
    font-size:22px; 
    color:#c1f52b; 
    text-decoration:none; 
}

/* BANNER */
.banner {
    width:100%;
    height:220px; /* sama seperti undang.html */
    position: relative;
}
.banner img {
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
}

/* CONTAINER AMPL0P */
.content-box {
    background:#292d3c;
    border-radius:20px 20px 0 0;
    margin-top:-50px; /* menindih banner sedikit */
    padding:20px 15px 120px;
    max-width:600px;
    margin-left:auto;
    margin-right:auto;
    box-shadow:0 -4px 10px rgba(0,0,0,0.2);
    position: relative;
    z-index:1;
}

/* FORM BONUS */
.form-group {
    margin-bottom:15px;
}
.form-group label {
    display:block;
    margin-bottom:6px;
    font-size:14px;
    font-weight:bold;
    color:#c1f52b;
}
.form-group input {
    width:100%;
    padding:12px;
    border-radius:8px;
    border:1px solid #1e2230;
    background:#1e2230;
    color:#c1f52b;
    font-size:15px;
}

/* TOMBOL KLAIM */
.claim-btn {
    display:block;
    width:100%;
    background:#c1f52b;
    color:#000;
    text-align:center;
    font-weight:bold;
    padding:14px;
    border-radius:10px;
    margin-top:15px;
    text-decoration:none;
    font-size:16px;
    border:none;
    cursor:pointer;
}

/* RIWAYAT BONUS */
.bonus-history {
    margin-top:20px;
}
.bonus-history h4 {
    color:#c1f52b;
    margin-bottom:10px;
}
.bonus-history ul {
    list-style:none;
}
.bonus-history li {
    background:#1e2230;
    padding:10px 12px;
    border-radius:8px;
    margin-bottom:8px;
    font-size:14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <a href="profil.html" class="back-btn">&#8592;</a>
    Hadiah Bonus
</div>

<!-- BANNER -->
<div class="banner">
    <img src="plan3.jpg" alt="Hadiah Bonus Banner">
</div>

<!-- CONTAINER AMPL0P -->
<div class="content-box">
    <div class="form-group">
        <label>Masukkan Kode Bonus</label>
        <input type="text" id="bonusCode" placeholder="Masukkan kode di sini">
    </div>
    <button class="claim-btn" id="claimBonusBtn">Klaim Bonus</button>

    <!-- RIWAYAT BONUS -->
    <div class="bonus-history">
        <h4>Riwayat Pengambilan Bonus</h4>
        <ul id="bonusHistory"></ul>
    </div>
</div>

<script>
const validCodes = {
    "BONUS100": 100,
    "BONUS500": 500,
    "BONUS1000": 1000,
    "WELCOME50": 50,
    "EXTRA200": 200,
    "LUCKY777": 777,
    "SUPER1000": 1000,
    "MEGA500": 500,
    "VIP250": 250,
    "REWARD150": 150
};

const claimBtn = document.getElementById('claimBonusBtn');
const bonusHistory = document.getElementById('bonusHistory');

// Ambil history dari sessionStorage
let history = JSON.parse(sessionStorage.getItem('bonusHistory') || '[]');

// Render history
function renderHistory() {
    bonusHistory.innerHTML = '';
    history.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `Kode: ${item.code} | Bonus: Rp${item.amount} | Tanggal: ${item.date}`;
        bonusHistory.appendChild(li);
    });
}
renderHistory();

// Event klaim bonus
claimBtn.addEventListener('click', ()=>{
    const code = document.getElementById('bonusCode').value.trim().toUpperCase();
    if(!code){
        alert('Masukkan kode bonus terlebih dahulu!');
        return;
    }
    if(!validCodes[code]){
        alert('Kode bonus tidak valid!');
        return;
    }

    const bonusAmount = validCodes[code];
    const bonusItem = {
        code: code,
        amount: bonusAmount,
        date: new Date().toLocaleString()
    };

    history.push(bonusItem);
    sessionStorage.setItem('bonusHistory', JSON.stringify(history));
    renderHistory();
    document.getElementById('bonusCode').value = '';
    alert(`Bonus Rp${bonusAmount} berhasil diklaim!`);
});
</script>

</body>
</html>